{% extends '::base.html.twig'%}
{% block titleH1 %}{% trans from "offers" %}community.devis.view.h1{% endtrans %}{% endblock %}
{% block titleH2 %}{% trans from "offers" %}community.devis.view.h2{% endtrans %}{% endblock %}
{% block breadcrumbH1 %}{% trans from "offers" %}community.devis.view.breadh1{% endtrans %}{% endblock %}
{% block breadcrumbH2 %}{% trans from "offers" %}community.devis.view.breadh2{% endtrans %}{% endblock %}
{% block content %}
                <!-- Main content -->
                    <div class="row">
                        <div class="col-xs-12">
                            <div class="box">
                                <div class="box-header">
                                    <h3 class="box-title">{% trans from "offers" %}community.devis.view.header{% endtrans %}</h3>
                                </div><!-- /.box-header -->
                                <div class="box-body">
                                    <form action="{{ path('devis_new') }}">
                                	<button class="btn btn-primary btn-sm">{% trans from "offers" %}community.devis.view.btn.create{% endtrans %}</button>
                                	</form>
                                </div>
                                <div class="box-body table-responsive">
                                	
                                    <table id="datatable" class="table table-bordered table-striped">
                                        <thead>
                                            <tr>
                                                <th>{% trans from "offers" %}community.devis.view.th.category{% endtrans %}</th>
                                                <th>{% trans from "offers" %}community.devis.view.th.title{% endtrans %}</th>
                                                <th>{% trans from "offers" %}community.devis.view.th.presentation{% endtrans %}</th>
                                                <th>{% trans from "offers" %}community.devis.view.th.duration{% endtrans %}</th>
                                                <th>{% trans from "offers" %}community.devis.view.th.price{% endtrans %}</th>
                                                <th>{% trans from "offers" %}community.devis.view.th.currency{% endtrans %}</th>
                                                <th>{% trans from "offers" %}community.devis.view.th.status{% endtrans %}</th>
                                                <th>{% trans from "offers" %}community.devis.view.th.notation{% endtrans %}</th>
                                                <th>{% trans from "offers" %}community.devis.view.th.actions{% endtrans %}</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                        {% for entity in devis %}
        									<tr>
                                                <td> {{ entity.category.name}}</td>
                                                <td> {{ entity.title }}</td>
                                                <td> {{ entity.presentation|slice(0, 40) }}</td>
                                                <td> {{ entity.duration.libelle }}</td>
                                                <td> {{ entity.price }} </td>
                                                <td> {{ entity.currency.libelle }}</td>
                                                {% if 1 == entity.active %}
                                                <td><span class="label label-success">{% trans from "offers" %}community.devis.view.active.enabled{% endtrans %}</span></td>
                                                {% elseif 0 == entity.active %}
                                                <td><span class="label label-danger">{% trans from "offers" %}community.devis.view.active.disabled{% endtrans %}</span></td>
                                                {% endif %}
                                                {% if entity.prestations != 0 %}
                                                <td> {{ entity.note }}</td>
                                                {% else %}
                                                <td>{% trans from "offers" %}community.devis.view.prestation.0{% endtrans %}</td>
                                                {% endif %}
                                                <td>
                                                	<form action="{{ path('devis_edit', {'id' : entity.id}) }}">
                                                		<button class="btn btn-default btn-sm">{% trans from "offers" %}community.devis.view.btn.edit{% endtrans %}</button>
                                                	</form>
                                                	<form action="{{ path('devis_read', {'id' : entity.id}) }}">
                                                		<button class="btn btn-default btn-sm">{% trans from "offers" %}community.devis.view.btn.details{% endtrans %}</button>
                                                	</form>
                                                </td>
                                            </tr>
    									{% endfor %}
                                            
                                            
                                        </tbody>
                                        <tfoot>
                                            <tr>
                                                <th>{% trans from "offers" %}community.devis.view.th.category{% endtrans %}</th>
                                                <th>{% trans from "offers" %}community.devis.view.th.title{% endtrans %}</th>
                                                <th>{% trans from "offers" %}community.devis.view.th.presentation{% endtrans %}</th>
                                                <th>{% trans from "offers" %}community.devis.view.th.duration{% endtrans %}</th>
                                                <th>{% trans from "offers" %}community.devis.view.th.price{% endtrans %}</th>
                                                <th>{% trans from "offers" %}community.devis.view.th.currency{% endtrans %}</th>
                                                <th>{% trans from "offers" %}community.devis.view.th.status{% endtrans %}</th>
                                                <th>{% trans from "offers" %}community.devis.view.th.notation{% endtrans %}</th>
                                                <th>{% trans from "offers" %}community.devis.view.th.actions{% endtrans %}</th>
                                            </tr>
                                        </tfoot>
                                    </table>
                                </div><!-- /.box-body -->
                            </div><!-- /.box -->
                        </div>
                    </div>
{% endblock %}

{% block javascripts_inline %}
        <script type="text/javascript">
            $(function() {
                $('#datatable').dataTable({
                    "bPaginate": true,
                    "bLengthChange": false,
                    "bFilter": false,
                    "bSort": true,
                    "bInfo": true,
                    "bAutoWidth": false
                });
            });
        </script>
{% endblock %}